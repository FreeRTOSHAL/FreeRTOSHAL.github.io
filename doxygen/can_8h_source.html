<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hardware Abstraction Layer for FreeRTOS: driver/include/can.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hardware Abstraction Layer for FreeRTOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('can_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">can.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="can_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* SPDX-License-Identifier: MIT */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Author: Andreas Werner &lt;kernel@andy89.org&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Date: 2018</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#ifndef CAN_H_</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#define CAN_H_</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="system_8h.html">system.h</a>&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;FreeRTOS.h&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;semphr.h&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="hal_8h.html">hal.h</a>&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="gpio_8h.html">gpio.h</a>&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">struct </span>can;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structcan__filter.html">   37</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcan__filter.html">can_filter</a> {</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structcan__filter.html#adf2b18eab11d360780707478a1f624b9">   41</a></span>&#160;        uint32_t <a class="code" href="structcan__filter.html#adf2b18eab11d360780707478a1f624b9">id</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structcan__filter.html#a15632117f3f031fbbeb28ef562f9ac94">   45</a></span>&#160;        uint32_t <a class="code" href="structcan__filter.html#a15632117f3f031fbbeb28ef562f9ac94">mask</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;};</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#ifdef CONFIG_CAN_FD</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor"># define CAN_MAX_LENGTH 64</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="group__CAN.html#gab7bf92a4f1fa8d5c2f4ab24991419bc3">   53</a></span>&#160;<span class="preprocessor"># define CAN_MAX_LENGTH 8</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structcan__msg.html">   58</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcan__msg.html">can_msg</a> {</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structcan__msg.html#a157aaad2daf039f59606522c6a51663a">   64</a></span>&#160;        uint32_t <a class="code" href="structcan__msg.html#a157aaad2daf039f59606522c6a51663a">ts</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structcan__msg.html#a9a5f820883d3dfe1f0c6bc33c3f95989">   68</a></span>&#160;        uint32_t <a class="code" href="structcan__msg.html#a9a5f820883d3dfe1f0c6bc33c3f95989">id</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structcan__msg.html#a99189cf1fd06d3c6825c276a5ea66155">   74</a></span>&#160;        uint8_t <a class="code" href="structcan__msg.html#a99189cf1fd06d3c6825c276a5ea66155">length</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structcan__msg.html#a8560e03d1ea08105038233426001ca48">   78</a></span>&#160;        uint8_t <a class="code" href="structcan__msg.html#a8560e03d1ea08105038233426001ca48">data</a>[<a class="code" href="group__CAN.html#gab7bf92a4f1fa8d5c2f4ab24991419bc3">CAN_MAX_LENGTH</a>];</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;};</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/* special address description flags for the CAN_ID */</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="group__CAN.html#ga5ae55ab3741140024858bd7b8762ea42">   82</a></span>&#160;<span class="preprocessor">#define CAN_EFF_FLAG BIT(31) </span><span class="comment">/* EFF/SFF is set in the MSB */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="group__CAN.html#gaf324d65226057755175038a15d9bbd75">   83</a></span>&#160;<span class="preprocessor">#define CAN_RTR_FLAG BIT(30) </span><span class="comment">/* remote transmission request */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">/* valid bits in CAN ID for frame formats */</span></div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="group__CAN.html#gafe4fc3f9cab58aeeb463861289e8ce93">   86</a></span>&#160;<span class="preprocessor">#define CAN_SFF_MASK 0x000007FFUL </span><span class="comment">/* standard frame format (SFF) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="group__CAN.html#ga83b943dca61d0aad5b07ec01c3317572">   87</a></span>&#160;<span class="preprocessor">#define CAN_EFF_MASK 0x1FFFFFFFUL </span><span class="comment">/* extended frame format (EFF) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="group__CAN.html#ga130725a90a6f8bfc8a24743cdf4944e1">   89</a></span>&#160;<span class="keyword">typedef</span> uint32_t <a class="code" href="group__CAN.html#ga130725a90a6f8bfc8a24743cdf4944e1">can_error_t</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="group__CAN.html#gacbbbfad306664496de5d631f25ee2cfc">   90</a></span>&#160;<span class="keyword">typedef</span> uint64_t <a class="code" href="group__CAN.html#gacbbbfad306664496de5d631f25ee2cfc">can_errorData_t</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="group__CAN.html#ga8086092a2e40c1b0429caaad3b2c8675">   95</a></span>&#160;<span class="preprocessor">#define CAN_ERR_CRTL BIT64(0)</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="group__CAN.html#ga460124ac3db203ad03403b6cc2e98475">   96</a></span>&#160;<span class="preprocessor">#define CAN_ERR_CTRL_OFFSET 0</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="group__CAN.html#gafcdc17774047f27e70f3c39f6fb66076">  100</a></span>&#160;<span class="preprocessor">#define CAN_ERR_CRTL_UNSPEC BIT64(CAN_ERR_CTRL_OFFSET + 0)</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="group__CAN.html#ga23d6f05d55b62fffdbd0a50969bc2d04">  104</a></span>&#160;<span class="preprocessor">#define CAN_ERR_CRTL_RX_OVERFLOW BIT64(CAN_ERR_CTRL_OFFSET + 1)</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="group__CAN.html#gab1412f1e2cc4f23334ed5ea766d12006">  108</a></span>&#160;<span class="preprocessor">#define CAN_ERR_CRTL_TX_OVERFLOW BIT64(CAN_ERR_CTRL_OFFSET + 2)</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="group__CAN.html#gae93958bbabe5e2e6d328d8fa5d491a96">  112</a></span>&#160;<span class="preprocessor">#define CAN_ERR_CRTL_RX_WARNING BIT64(CAN_ERR_CTRL_OFFSET + 3)</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"> * Reached warning level for TX errors</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="group__CAN.html#gab46d1dddb458203ca07e0c351275c549">  116</a></span>&#160;<span class="preprocessor">#define CAN_ERR_CRTL_TX_WARNING BIT64(CAN_ERR_CTRL_OFFSET + 4)</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="group__CAN.html#ga853db0a1bf833caea89e3597a0123c11">  120</a></span>&#160;<span class="preprocessor">#define CAN_ERR_CRTL_RX_PASSIVE BIT64(CAN_ERR_CTRL_OFFSET + 5)</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="group__CAN.html#ga29185de9d3b35414a729af6e0fad6574">  126</a></span>&#160;<span class="preprocessor">#define CAN_ERR_CRTL_TX_PASSIVE BIT64(CAN_ERR_CTRL_OFFSET + 6)</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="group__CAN.html#gad58348359662a884293f1b0be70e97fb">  132</a></span>&#160;<span class="preprocessor">#define CAN_ERR_CRTL_ACTIVE BIT64(CAN_ERR_CTRL_OFFSET + 7)</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="group__CAN.html#ga0fdfaa2091c61c2db8caa7a51e8c0037">  136</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT BIT64(1)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="group__CAN.html#ga84264c877c8f4cb20b0fd7f24b1dbaab">  137</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_OFFSET 8</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="group__CAN.html#ga6cf7ee3a3d83315ed2589bb3bdb816b3">  141</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_UNSPEC BIT64(CAN_ERR_PROT_OFFSET + 0)</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="group__CAN.html#ga0443c62a7e861f429f51c7bb6dc4ee23">  145</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_BIT BIT64(CAN_ERR_PROT_OFFSET + 1)</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="group__CAN.html#gae8f76071caf3ac10abb88be4347b9625">  149</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_FORM BIT64(CAN_ERR_PROT_OFFSET + 2)</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="group__CAN.html#ga31af2ea01de879fb1d153cb6c0d642f8">  153</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_STUFF BIT64(CAN_ERR_PROT_OFFSET + 3)</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="group__CAN.html#ga1b469132ce858c4a0222e367b986343a">  157</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_BIT0 BIT64(CAN_ERR_PROT_OFFSET + 4)</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="group__CAN.html#ga13e44854f6873a4a08ba2c9de0544471">  161</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_BIT1 BIT64(CAN_ERR_PROT_OFFSET + 5)</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="group__CAN.html#ga0c02b06cad0d95b340c1b6294a5f9f9f">  165</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_OVERLOAD BIT64(CAN_ERR_PROT_OFFSET + 6)</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="group__CAN.html#ga460ee0be98290e6916f85c8651d6de05">  169</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_ACTIVE BIT64(CAN_ERR_PROT_OFFSET + 7)</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="group__CAN.html#gabee807ce2e8ccf6eafc9b6f73a9315fb">  173</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_TX BIT64(CAN_ERR_PROT_OFFSET + 8)</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="group__CAN.html#gab956f26f3950016b05a8835d87362f90">  175</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_OFFSET 24</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="group__CAN.html#ga4ac83a947ca929b857af6352300ad6d8">  179</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_UNSPEC BIT64(CAN_ERR_PROT_LOC_OFFSET + 0)</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="group__CAN.html#gaa7a2392801977b667a4d39083d0c92c3">  184</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_SOF BIT64(CAN_ERR_PROT_LOC_OFFSET + 1)</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="group__CAN.html#ga0592a90c8dba2c8102479e184dcd6c62">  189</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_ID28_21 BIT64(CAN_ERR_PROT_LOC_OFFSET + 2)</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="group__CAN.html#ga240923d7f939dd08d2e4f434468e3006">  194</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_ID20_18 BIT64(CAN_ERR_PROT_LOC_OFFSET + 3)</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="group__CAN.html#gad70fa4d644d5b71f8891de051643226a">  199</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_SRTR BIT64(CAN_ERR_PROT_LOC_OFFSET + 4)</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="group__CAN.html#ga4fe7a2839d2ca31e8dd383564b1865c1">  204</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_IDE BIT64(CAN_ERR_PROT_LOC_OFFSET + 5)</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="group__CAN.html#gabb436ab756394e8844a3925edd92b95c">  209</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_ID17_13 BIT64(CAN_ERR_PROT_LOC_OFFSET + 6)</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="group__CAN.html#gafd6cd3681ebf245896d282daabdac0b7">  214</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_ID12_05 BIT64(CAN_ERR_PROT_LOC_OFFSET + 7)</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="group__CAN.html#ga00bc04bfcae8d6486aa149cd19dd6102">  219</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_ID04_00 BIT64(CAN_ERR_PROT_LOC_OFFSET + 8)</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="group__CAN.html#ga79567d5df1287ccdd1966d092b5e047c">  224</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_RTR BIT64(CAN_ERR_PROT_LOC_OFFSET + 9)</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="group__CAN.html#ga13aa190099e1600314bb8e46e0a693ce">  229</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_RES1 BIT64(CAN_ERR_PROT_LOC_OFFSET + 10)</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="group__CAN.html#gafe744ebfd9a71b557d3059bc3f8aee56">  234</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_RES0 BIT64(CAN_ERR_PROT_LOC_OFFSET + 11)</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="group__CAN.html#ga2aa0ab15f3f4fc974653ff556688046a">  239</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_DLC BIT64(CAN_ERR_PROT_LOC_OFFSET + 12)</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="group__CAN.html#ga1877b10333d3805f2ea1ef9195a8dee1">  244</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_DATA BIT64(CAN_ERR_PROT_LOC_OFFSET + 13)</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="group__CAN.html#ga1e56b5931c70b6ecf21a3b7d9ceebe16">  249</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_CRC_SEQ BIT64(CAN_ERR_PROT_LOC_OFFSET + 14)</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="group__CAN.html#ga893a0c29cb622265c5d22ba7f26575a2">  254</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_CRC_DEL BIT64(CAN_ERR_PROT_LOC_OFFSET + 15)</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="group__CAN.html#ga14988a58a4514b44061ab5b942c6bbdf">  259</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_ACK BIT64(CAN_ERR_PROT_LOC_OFFSET + 16)</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="group__CAN.html#ga8e928e081ef83a83c2885259fc0a6002">  264</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_ACK_DEL BIT64(CAN_ERR_PROT_LOC_OFFSET + 17)</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="group__CAN.html#ga811713c9831116e6e6c42631fb7d287a">  269</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_EOF BIT64(CAN_ERR_PROT_LOC_OFFSET + 18)</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="group__CAN.html#gac52eb448c0ec04421f0e21ccf9a496a0">  274</a></span>&#160;<span class="preprocessor">#define CAN_ERR_PROT_LOC_INTERM BIT64(CAN_ERR_PROT_LOC_OFFSET + 19)</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="group__CAN.html#gaf0026f916a985610cc449ffa6a31445f">  279</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX BIT64(2)</span></div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="group__CAN.html#gad433fcf0c2e21644fa366a21dea703ab">  280</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_OFFSET 48</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="group__CAN.html#ga2169eab29b3c954598fe6780d98b479a">  284</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_UNSPEC BIT64(CAN_ERR_TRX_OFFSET + 0)</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="group__CAN.html#gac39d4c89032cba5c08981182e297c7d7">  288</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_CANH_NO_WIRE BIT64(CAN_ERR_TRX_OFFSET + 1)</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="group__CAN.html#ga294393d4f39d4476d0c57876c3504a98">  292</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_CANH_SHORT_TO_BAT BIT64(CAN_ERR_TRX_OFFSET + 2)</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="group__CAN.html#ga85ab738e9c73d380f96371f195aa41ab">  296</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_CANH_SHORT_TO_VCC BIT64(CAN_ERR_TRX_OFFSET + 3)</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="group__CAN.html#ga325c4d192a7de24a61b8fcca1d434669">  301</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_CANH_SHORT_TO_GND BIT64(CAN_ERR_TRX_OFFSET + 4)</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="group__CAN.html#ga1ecc59939f560d7e018af307df03a370">  305</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_CANL_NO_WIRE BIT64(CAN_ERR_TRX_OFFSET + 5)</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="group__CAN.html#gaf4ec9ec512befde085f5a7701d0813fe">  309</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_CANL_SHORT_TO_BAT BIT64(CAN_ERR_TRX_OFFSET + 6)</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="group__CAN.html#gace999081029fcd690f89c76aa8738122">  313</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_CANL_SHORT_TO_VCC BIT64(CAN_ERR_TRX_OFFSET + 7)</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="group__CAN.html#ga428b96738439b9df662a999f1a5f9ffd">  317</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_CANL_SHORT_TO_GND BIT64(CAN_ERR_TRX_OFFSET + 8)</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="group__CAN.html#gaaed57dcbd07a56050c8915fcd8bd5ba8">  321</a></span>&#160;<span class="preprocessor">#define CAN_ERR_TRX_CANL_SHORT_TO_CANH BIT64(CAN_ERR_TRX_OFFSET + 9)</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="group__CAN.html#gadbe83f5e81c1c8c767daaf97c5849017">  325</a></span>&#160;<span class="preprocessor">#define CAN_ERR_ACK BIT64(3)</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="group__CAN.html#ga8b0903e35c75de100b97a7b3e368b269">  329</a></span>&#160;<span class="preprocessor">#define CAN_ERR_BUSOFF BIT64(4)</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="group__CAN.html#ga0b068b1221129441b89967ee2ddb9f44">  333</a></span>&#160;<span class="preprocessor">#define CAN_ERR_BUSERROR BIT64(5)</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="group__CAN.html#ga54583090d19940d761a224bc0801ec6a">  337</a></span>&#160;<span class="preprocessor">#define CAN_ERR_RESTARTED BIT64(6)</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="preprocessor">#ifdef CONFIG_CAN_MULTI</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="keyword">struct </span>can_ops {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keyword">struct </span>can *(*can_init)(uint32_t index, uint32_t bitrate, <span class="keyword">struct </span>gpio_pin *pin, <span class="keywordtype">bool</span> pinHigh, bool (*callback)(<span class="keyword">struct </span>can *can, <a class="code" href="group__CAN.html#ga130725a90a6f8bfc8a24743cdf4944e1">can_error_t</a> error, <a class="code" href="group__CAN.html#gacbbbfad306664496de5d631f25ee2cfc">can_errorData_t</a> data, <span class="keywordtype">void</span> *userData), <span class="keywordtype">void</span> *data);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        int32_t (*<a class="code" href="group__CAN.html#ga58ec29822172f6026d890954509fe6a7">can_deinit</a>)(<span class="keyword">struct </span>can *can);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        int32_t (*<a class="code" href="group__CAN.html#ga9e81eba08aa916e73a558baf6d314afe">can_setCallback</a>)(<span class="keyword">struct </span>can *can, int32_t filterID, bool (*callback)(<span class="keyword">struct </span>can *can, <span class="keyword">struct </span><a class="code" href="structcan__msg.html">can_msg</a> *msg, <span class="keywordtype">void</span> *<a class="code" href="structcan__msg.html#a8560e03d1ea08105038233426001ca48">data</a>), <span class="keywordtype">void</span> *<a class="code" href="structcan__msg.html#a8560e03d1ea08105038233426001ca48">data</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        int32_t (*<a class="code" href="group__CAN.html#gab643a6c51025321993c140ca5cfe448d">can_registerFilter</a>)(<span class="keyword">struct </span>can *can, <span class="keyword">struct </span><a class="code" href="structcan__filter.html">can_filter</a> *filter);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        int32_t (*<a class="code" href="group__CAN.html#gaddc776090b46d28b4a35b58b62529f01">can_deregisterFilter</a>)(<span class="keyword">struct </span>can *can, int32_t filterID);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        int32_t (*<a class="code" href="group__CAN.html#gab2e35961c8c2057c7a01ef272d2d2267">can_send</a>)(<span class="keyword">struct </span>can *can, <span class="keyword">struct </span><a class="code" href="structcan__msg.html">can_msg</a> *msg, TickType_t waittime);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        int32_t (*<a class="code" href="group__CAN.html#ga3a1e121bd95d613e2d792ce6c7553f4c">can_recv</a>)(<span class="keyword">struct </span>can *can, int32_t filterID, <span class="keyword">struct </span><a class="code" href="structcan__msg.html">can_msg</a> *msg, TickType_t waittime);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        int32_t (*<a class="code" href="group__CAN.html#ga0d2325c23924ca471fde9fb8251cc01d">can_sendISR</a>)(<span class="keyword">struct </span>can *can, <span class="keyword">struct </span><a class="code" href="structcan__msg.html">can_msg</a> *msg);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        int32_t (*<a class="code" href="group__CAN.html#ga59d76080ec29acbcb5c7ad106d110785">can_recvISR</a>)(<span class="keyword">struct </span>can *can, int32_t filterID, <span class="keyword">struct </span><a class="code" href="structcan__msg.html">can_msg</a> *msg);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        int32_t (*<a class="code" href="group__CAN.html#gaab22e76e50c6848b34bfa3437cd996aa">can_up</a>)(<span class="keyword">struct </span>can *can);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        int32_t (*<a class="code" href="group__CAN.html#ga4e1b67f482378bfa46737db41552e043">can_down</a>)(<span class="keyword">struct </span>can *can);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;};</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="structcan__generic.html">  360</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> {</div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="structcan__generic.html#a1b4a347f0a7a678a15bae8ce8596cfe1">  365</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="structcan__generic.html#a1b4a347f0a7a678a15bae8ce8596cfe1">init</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="preprocessor">#ifdef CONFIG_INSTANCE_NAME</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#ifdef CONFIG_CAN_THREAD_SAVE</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="group__OS.html#ga534a03717491867c8cbd0cab427742df">OS_DEFINE_MUTEX_RECURSIVE</a>(lock);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="preprocessor">#ifdef CONFIG_CAN_MULTI</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span>can_ops *ops;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;};</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="preprocessor">#ifndef CONFIG_CAN_MULTI</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="group__CAN.html#gad5313261d32cdb77d59881f6f021d504">  396</a></span>&#160;<span class="keyword">struct </span>can *<a class="code" href="group__CAN.html#gad5313261d32cdb77d59881f6f021d504">can_init</a>(uint32_t index, uint32_t bitrate, <span class="keyword">struct</span> gpio_pin *pin, <span class="keywordtype">bool</span> pinHigh, <span class="keywordtype">bool</span> (*callback)(<span class="keyword">struct</span> can *can, <a class="code" href="group__CAN.html#ga130725a90a6f8bfc8a24743cdf4944e1">can_error_t</a> error, <a class="code" href="group__CAN.html#gacbbbfad306664496de5d631f25ee2cfc">can_errorData_t</a> data, <span class="keywordtype">void</span> *userData), <span class="keywordtype">void</span> *data);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="group__CAN.html#ga58ec29822172f6026d890954509fe6a7">  403</a></span>&#160;int32_t <a class="code" href="group__CAN.html#ga58ec29822172f6026d890954509fe6a7">can_deinit</a>(<span class="keyword">struct</span> can *can);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="group__CAN.html#ga9e81eba08aa916e73a558baf6d314afe">  415</a></span>&#160;int32_t <a class="code" href="group__CAN.html#ga9e81eba08aa916e73a558baf6d314afe">can_setCallback</a>(<span class="keyword">struct</span> can *can, int32_t filterID, <span class="keywordtype">bool</span> (*callback)(<span class="keyword">struct</span> can *can, <span class="keyword">struct</span> <a class="code" href="structcan__msg.html">can_msg</a> *msg, <span class="keywordtype">void</span> *data), <span class="keywordtype">void</span> *data);</div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="group__CAN.html#gab643a6c51025321993c140ca5cfe448d">  424</a></span>&#160;int32_t <a class="code" href="group__CAN.html#gab643a6c51025321993c140ca5cfe448d">can_registerFilter</a>(<span class="keyword">struct</span> can *can, <span class="keyword">struct</span> <a class="code" href="structcan__filter.html">can_filter</a> *filter);</div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="group__CAN.html#gaddc776090b46d28b4a35b58b62529f01">  431</a></span>&#160;int32_t <a class="code" href="group__CAN.html#gaddc776090b46d28b4a35b58b62529f01">can_deregisterFilter</a>(<span class="keyword">struct</span> can *can, int32_t filterID);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="group__CAN.html#gab2e35961c8c2057c7a01ef272d2d2267">  440</a></span>&#160;int32_t <a class="code" href="group__CAN.html#gab2e35961c8c2057c7a01ef272d2d2267">can_send</a>(<span class="keyword">struct</span> can *can, <span class="keyword">struct</span> <a class="code" href="structcan__msg.html">can_msg</a> *msg, TickType_t waittime);</div>
<div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="group__CAN.html#ga3a1e121bd95d613e2d792ce6c7553f4c">  449</a></span>&#160;int32_t <a class="code" href="group__CAN.html#ga3a1e121bd95d613e2d792ce6c7553f4c">can_recv</a>(<span class="keyword">struct</span> can *can, int32_t filterID, <span class="keyword">struct</span> <a class="code" href="structcan__msg.html">can_msg</a> *msg, TickType_t waittime);</div>
<div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="group__CAN.html#ga0d2325c23924ca471fde9fb8251cc01d">  456</a></span>&#160;int32_t <a class="code" href="group__CAN.html#ga0d2325c23924ca471fde9fb8251cc01d">can_sendISR</a>(<span class="keyword">struct</span> can *can, <span class="keyword">struct</span> <a class="code" href="structcan__msg.html">can_msg</a> *msg);</div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="group__CAN.html#ga59d76080ec29acbcb5c7ad106d110785">  464</a></span>&#160;int32_t <a class="code" href="group__CAN.html#ga59d76080ec29acbcb5c7ad106d110785">can_recvISR</a>(<span class="keyword">struct</span> can *can, int32_t filterID, <span class="keyword">struct</span> <a class="code" href="structcan__msg.html">can_msg</a> *msg);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="group__CAN.html#gaab22e76e50c6848b34bfa3437cd996aa">  471</a></span>&#160;int32_t <a class="code" href="group__CAN.html#gaab22e76e50c6848b34bfa3437cd996aa">can_up</a>(<span class="keyword">struct</span> can *can);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="group__CAN.html#ga4e1b67f482378bfa46737db41552e043">  478</a></span>&#160;int32_t <a class="code" href="group__CAN.html#ga4e1b67f482378bfa46737db41552e043">can_down</a>(<span class="keyword">struct</span> can *can);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="keyword">inline</span> <span class="keyword">struct </span>can *<a class="code" href="group__CAN.html#gad5313261d32cdb77d59881f6f021d504">can_init</a>(uint32_t index, uint32_t bitrate, <span class="keyword">struct</span> gpio_pin *pin, <span class="keywordtype">bool</span> pinHigh, <span class="keywordtype">bool</span> (*callback)(<span class="keyword">struct</span> can *can, <a class="code" href="group__CAN.html#ga130725a90a6f8bfc8a24743cdf4944e1">can_error_t</a> error, <a class="code" href="group__CAN.html#gacbbbfad306664496de5d631f25ee2cfc">can_errorData_t</a> data, <span class="keywordtype">void</span> *userData), <span class="keywordtype">void</span> *data) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="group__HAL.html#ga61bd9934ca28c7910b08f5c4e0da1b9b">HAL_DEFINE_GLOBAL_ARRAY</a>(can);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) <a class="code" href="group__HAL.html#gab8a1698a778877decefb31eae4e82a0f">HAL_GET_DEV</a>(can, index);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">if</span> (a == NULL) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_init(index, bitrate, pin, pinHigh, callback, data, userData);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="keyword">inline</span> int32_t <a class="code" href="group__CAN.html#ga58ec29822172f6026d890954509fe6a7">can_deinit</a>(<span class="keyword">struct</span> can *can) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) can;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_deinit(can);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="keyword">inline</span> int32_t <a class="code" href="group__CAN.html#ga9e81eba08aa916e73a558baf6d314afe">can_setCallback</a>(<span class="keyword">struct</span> can *can, int32_t filterID, <span class="keywordtype">bool</span> (*callback)(<span class="keyword">struct</span> can *can, <span class="keyword">struct</span> <a class="code" href="structcan__msg.html">can_msg</a> *msg, <span class="keywordtype">void</span> *data), <span class="keywordtype">void</span> *data) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) can;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_setCallback(can, filterID, callback, data);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="keyword">inline</span> int32_t <a class="code" href="group__CAN.html#gab643a6c51025321993c140ca5cfe448d">can_registerFilter</a>(<span class="keyword">struct</span> can *can, <span class="keyword">struct</span> <a class="code" href="structcan__filter.html">can_filter</a> *filter) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) can;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_registerFilter(can, filter);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="keyword">inline</span> int32_t <a class="code" href="group__CAN.html#gaddc776090b46d28b4a35b58b62529f01">can_deregisterFilter</a>(<span class="keyword">struct</span> can *can, int32_t filterID) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) can;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_deregisterFilter(can, filterID);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="keyword">inline</span> int32_t <a class="code" href="group__CAN.html#gab2e35961c8c2057c7a01ef272d2d2267">can_send</a>(<span class="keyword">struct</span> can *can, <span class="keyword">struct</span> <a class="code" href="structcan__msg.html">can_msg</a> *msg, TickType_t waittime) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) can;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_send(can, msg, waittime);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="keyword">inline</span> int32_t <a class="code" href="group__CAN.html#ga3a1e121bd95d613e2d792ce6c7553f4c">can_recv</a>(<span class="keyword">struct</span> can *can, int32_t filterID, <span class="keyword">struct</span> <a class="code" href="structcan__msg.html">can_msg</a> *msg, TickType_t waittime) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) can;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_recv(can, filterID, msg, waittime);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="keyword">inline</span> int32_t <a class="code" href="group__CAN.html#ga0d2325c23924ca471fde9fb8251cc01d">can_sendISR</a>(<span class="keyword">struct</span> can *can, <span class="keyword">struct</span> <a class="code" href="structcan__msg.html">can_msg</a> *msg) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) can;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_sendISR(can, msg);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="keyword">inline</span> int32_t <a class="code" href="group__CAN.html#ga59d76080ec29acbcb5c7ad106d110785">can_recvISR</a>(<span class="keyword">struct</span> can *can, int32_t filterID, <span class="keyword">struct</span> <a class="code" href="structcan__msg.html">can_msg</a> *msg) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) can;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_recvISR(can, filterID, msg);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="keyword">inline</span> int32_t <a class="code" href="group__CAN.html#gaab22e76e50c6848b34bfa3437cd996aa">can_up</a>(<span class="keyword">struct</span> can *can) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) can;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_up(can);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="keyword">inline</span> int32_t <a class="code" href="group__CAN.html#ga4e1b67f482378bfa46737db41552e043">can_down</a>(<span class="keyword">struct</span> can *can) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *a = (<span class="keyword">struct </span><a class="code" href="structcan__generic.html">can_generic</a> *) can;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">return</span> a-&gt;ops-&gt;can_down(can);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__CAN_html_gab2e35961c8c2057c7a01ef272d2d2267"><div class="ttname"><a href="group__CAN.html#gab2e35961c8c2057c7a01ef272d2d2267">can_send</a></div><div class="ttdeci">int32_t can_send(struct can *can, struct can_msg *msg, TickType_t waittime)</div></div>
<div class="ttc" id="astructcan__msg_html_a9a5f820883d3dfe1f0c6bc33c3f95989"><div class="ttname"><a href="structcan__msg.html#a9a5f820883d3dfe1f0c6bc33c3f95989">can_msg::id</a></div><div class="ttdeci">uint32_t id</div><div class="ttdef"><b>Definition:</b> can.h:68</div></div>
<div class="ttc" id="agroup__OS_html_ga534a03717491867c8cbd0cab427742df"><div class="ttname"><a href="group__OS.html#ga534a03717491867c8cbd0cab427742df">OS_DEFINE_MUTEX_RECURSIVE</a></div><div class="ttdeci">#define OS_DEFINE_MUTEX_RECURSIVE(name)</div><div class="ttdef"><b>Definition:</b> os.h:59</div></div>
<div class="ttc" id="ahal_8h_html"><div class="ttname"><a href="hal_8h.html">hal.h</a></div></div>
<div class="ttc" id="astructcan__filter_html_a15632117f3f031fbbeb28ef562f9ac94"><div class="ttname"><a href="structcan__filter.html#a15632117f3f031fbbeb28ef562f9ac94">can_filter::mask</a></div><div class="ttdeci">uint32_t mask</div><div class="ttdef"><b>Definition:</b> can.h:45</div></div>
<div class="ttc" id="agroup__CAN_html_gab7bf92a4f1fa8d5c2f4ab24991419bc3"><div class="ttname"><a href="group__CAN.html#gab7bf92a4f1fa8d5c2f4ab24991419bc3">CAN_MAX_LENGTH</a></div><div class="ttdeci">#define CAN_MAX_LENGTH</div><div class="ttdef"><b>Definition:</b> can.h:53</div></div>
<div class="ttc" id="astructcan__msg_html"><div class="ttname"><a href="structcan__msg.html">can_msg</a></div><div class="ttdef"><b>Definition:</b> can.h:58</div></div>
<div class="ttc" id="agroup__CAN_html_gaab22e76e50c6848b34bfa3437cd996aa"><div class="ttname"><a href="group__CAN.html#gaab22e76e50c6848b34bfa3437cd996aa">can_up</a></div><div class="ttdeci">int32_t can_up(struct can *can)</div></div>
<div class="ttc" id="agroup__CAN_html_ga58ec29822172f6026d890954509fe6a7"><div class="ttname"><a href="group__CAN.html#ga58ec29822172f6026d890954509fe6a7">can_deinit</a></div><div class="ttdeci">int32_t can_deinit(struct can *can)</div></div>
<div class="ttc" id="agroup__CAN_html_gab643a6c51025321993c140ca5cfe448d"><div class="ttname"><a href="group__CAN.html#gab643a6c51025321993c140ca5cfe448d">can_registerFilter</a></div><div class="ttdeci">int32_t can_registerFilter(struct can *can, struct can_filter *filter)</div></div>
<div class="ttc" id="agroup__CAN_html_ga59d76080ec29acbcb5c7ad106d110785"><div class="ttname"><a href="group__CAN.html#ga59d76080ec29acbcb5c7ad106d110785">can_recvISR</a></div><div class="ttdeci">int32_t can_recvISR(struct can *can, int32_t filterID, struct can_msg *msg)</div></div>
<div class="ttc" id="agroup__CAN_html_ga3a1e121bd95d613e2d792ce6c7553f4c"><div class="ttname"><a href="group__CAN.html#ga3a1e121bd95d613e2d792ce6c7553f4c">can_recv</a></div><div class="ttdeci">int32_t can_recv(struct can *can, int32_t filterID, struct can_msg *msg, TickType_t waittime)</div></div>
<div class="ttc" id="agroup__HAL_html_ga61bd9934ca28c7910b08f5c4e0da1b9b"><div class="ttname"><a href="group__HAL.html#ga61bd9934ca28c7910b08f5c4e0da1b9b">HAL_DEFINE_GLOBAL_ARRAY</a></div><div class="ttdeci">#define HAL_DEFINE_GLOBAL_ARRAY(gns)</div><div class="ttdef"><b>Definition:</b> hal.h:149</div></div>
<div class="ttc" id="agroup__CAN_html_ga4e1b67f482378bfa46737db41552e043"><div class="ttname"><a href="group__CAN.html#ga4e1b67f482378bfa46737db41552e043">can_down</a></div><div class="ttdeci">int32_t can_down(struct can *can)</div></div>
<div class="ttc" id="astructcan__filter_html"><div class="ttname"><a href="structcan__filter.html">can_filter</a></div><div class="ttdef"><b>Definition:</b> can.h:37</div></div>
<div class="ttc" id="astructcan__filter_html_adf2b18eab11d360780707478a1f624b9"><div class="ttname"><a href="structcan__filter.html#adf2b18eab11d360780707478a1f624b9">can_filter::id</a></div><div class="ttdeci">uint32_t id</div><div class="ttdef"><b>Definition:</b> can.h:41</div></div>
<div class="ttc" id="agroup__HAL_html_gab8a1698a778877decefb31eae4e82a0f"><div class="ttname"><a href="group__HAL.html#gab8a1698a778877decefb31eae4e82a0f">HAL_GET_DEV</a></div><div class="ttdeci">#define HAL_GET_DEV(gns, index)</div><div class="ttdef"><b>Definition:</b> hal.h:182</div></div>
<div class="ttc" id="agroup__CAN_html_ga130725a90a6f8bfc8a24743cdf4944e1"><div class="ttname"><a href="group__CAN.html#ga130725a90a6f8bfc8a24743cdf4944e1">can_error_t</a></div><div class="ttdeci">uint32_t can_error_t</div><div class="ttdef"><b>Definition:</b> can.h:89</div></div>
<div class="ttc" id="agroup__CAN_html_gacbbbfad306664496de5d631f25ee2cfc"><div class="ttname"><a href="group__CAN.html#gacbbbfad306664496de5d631f25ee2cfc">can_errorData_t</a></div><div class="ttdeci">uint64_t can_errorData_t</div><div class="ttdef"><b>Definition:</b> can.h:90</div></div>
<div class="ttc" id="astructcan__generic_html_a1b4a347f0a7a678a15bae8ce8596cfe1"><div class="ttname"><a href="structcan__generic.html#a1b4a347f0a7a678a15bae8ce8596cfe1">can_generic::init</a></div><div class="ttdeci">bool init</div><div class="ttdef"><b>Definition:</b> can.h:365</div></div>
<div class="ttc" id="agroup__CAN_html_gaddc776090b46d28b4a35b58b62529f01"><div class="ttname"><a href="group__CAN.html#gaddc776090b46d28b4a35b58b62529f01">can_deregisterFilter</a></div><div class="ttdeci">int32_t can_deregisterFilter(struct can *can, int32_t filterID)</div></div>
<div class="ttc" id="astructcan__msg_html_a99189cf1fd06d3c6825c276a5ea66155"><div class="ttname"><a href="structcan__msg.html#a99189cf1fd06d3c6825c276a5ea66155">can_msg::length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdef"><b>Definition:</b> can.h:74</div></div>
<div class="ttc" id="asystem_8h_html"><div class="ttname"><a href="system_8h.html">system.h</a></div></div>
<div class="ttc" id="astructcan__msg_html_a8560e03d1ea08105038233426001ca48"><div class="ttname"><a href="structcan__msg.html#a8560e03d1ea08105038233426001ca48">can_msg::data</a></div><div class="ttdeci">uint8_t data[CAN_MAX_LENGTH]</div><div class="ttdef"><b>Definition:</b> can.h:78</div></div>
<div class="ttc" id="astructcan__msg_html_a157aaad2daf039f59606522c6a51663a"><div class="ttname"><a href="structcan__msg.html#a157aaad2daf039f59606522c6a51663a">can_msg::ts</a></div><div class="ttdeci">uint32_t ts</div><div class="ttdef"><b>Definition:</b> can.h:64</div></div>
<div class="ttc" id="agpio_8h_html"><div class="ttname"><a href="gpio_8h.html">gpio.h</a></div></div>
<div class="ttc" id="agroup__CAN_html_ga9e81eba08aa916e73a558baf6d314afe"><div class="ttname"><a href="group__CAN.html#ga9e81eba08aa916e73a558baf6d314afe">can_setCallback</a></div><div class="ttdeci">int32_t can_setCallback(struct can *can, int32_t filterID, bool(*callback)(struct can *can, struct can_msg *msg, void *data), void *data)</div></div>
<div class="ttc" id="agroup__CAN_html_gad5313261d32cdb77d59881f6f021d504"><div class="ttname"><a href="group__CAN.html#gad5313261d32cdb77d59881f6f021d504">can_init</a></div><div class="ttdeci">struct can * can_init(uint32_t index, uint32_t bitrate, struct gpio_pin *pin, bool pinHigh, bool(*callback)(struct can *can, can_error_t error, can_errorData_t data, void *userData), void *data)</div></div>
<div class="ttc" id="astructcan__generic_html"><div class="ttname"><a href="structcan__generic.html">can_generic</a></div><div class="ttdef"><b>Definition:</b> can.h:360</div></div>
<div class="ttc" id="agroup__CAN_html_ga0d2325c23924ca471fde9fb8251cc01d"><div class="ttname"><a href="group__CAN.html#ga0d2325c23924ca471fde9fb8251cc01d">can_sendISR</a></div><div class="ttdeci">int32_t can_sendISR(struct can *can, struct can_msg *msg)</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1284b95147afa48b330f502c8bbc0529.html">driver</a></li><li class="navelem"><a class="el" href="dir_503d9bcc45879383b08c0a7ee967393c.html">include</a></li><li class="navelem"><a class="el" href="can_8h.html">can.h</a></li>
    <li class="footer">Generated on Tue Aug 17 2021 15:19:23 for Hardware Abstraction Layer for FreeRTOS by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
